<div class="sidenav">
  <div class="login-main-text">
    <div>
        <div class="card-body">
          <div class="d-flex flex-column align-items-center text-center">
            <h1>{{title}}</h1>
            <img src="../..{{user.profilePicture}}" alt="Admin" class="rounded-circle" width="150">
            <div class="mt-3">
              <h2>{{nameOfUser}}</h2>
              <p class="font-size-sm">{{user.biography}}</p>
            </div>
          </div>
        </div>
    </div>
  </div>
</div>
<div class="main">
  {{>navbar}}
  <div class="col-md-12 col-sm-12">
    <div class="add-product-form">
      <form
        id="update-user"
        class="form-horizontal needs-validation"
        action="/users/update"
        method="POST"
        novalidate
      >
        <div class="input-group mb-3">
          <label class="input-group-text" for="firstName">First Name</label>
          <input
            type="text"
            value = "{{user.firstName}}"
            class="form-control"
            placeholder="Enter first name"
            id="firstName"
            name="firstName"
            oninput="removeErrorClass(this)"
            required
          />
          <div class="invalid-feedback">
            First name cannot be empty
          </div>
        </div>
        <div class="input-group mb-3">
          <label class="input-group-text" for="lastName">Last Name</label>
          <input
            type="text"
            value = "{{user.lastName}}"
            class="form-control"
            placeholder="Enter last name"
            id="lastName"
            name="lastName"
            oninput="removeErrorClass(this)"
            required
          />
          <div class="invalid-feedback">
            Last name cannot be empty
          </div>
        </div>
        <div class="input-group mb-3">
          <label class="input-group-text" for="imageUpload">Profile Image</label>
          <input
            id="imageUpload"
            name="imageUpload"
            accept="image/*"
            class="form-control"
            type="file"
            oninput="removeErrorClass(this)"
          />
          <div class="invalid-feedback">
            Please select an image
          </div>
        </div>
        <div class="input-group mb-3">
          <label
            class="input-group-text"
            for="biography"
          >Biography</label>
          <textarea
            class="form-control"
            id="biography"
            name="biography"
            placeholder="Describe yourself"
            oninput="removeErrorClass(this)"
            required
          >{{user.biography}}</textarea>
          <div class="invalid-feedback">
            Biography cannot be empty
          </div>
        </div>
        <div class="input-group mb-3">
          <label class="input-group-text" for="email">Email Id</label>
          <input
            type="text"
            value = "{{user.email}}"
            class="form-control"
            placeholder="Enter email address"
            id="email"
            name="email"
            oninput="removeErrorClass(this)"
            required
          />
          <div id="invalid-email-label" class="invalid-feedback">
            Email Id cannot be empty
          </div>
        </div>
        <div class="input-group mb-3">
          <label class="input-group-text" for="phoneNumber">Phone Number</label>
          <input
            type="text"
            value = "{{user.phoneNumber}}"
            class="form-control"
            placeholder="Enter phone number (xxx-xxx-xxxx)"
            id="phoneNumber"
            name="phoneNumber"
            oninput="removeErrorClass(this)"
            required
          />
          <div class="invalid-feedback" id="invalid-phoneNumber-label">
            Phone number cannot be empty
          </div>
        </div>
        <div class="input-group mb-3">
          <label class="input-group-text" for="street">Address</label>
          <input
            type="text"
            class="form-control"
            placeholder="Enter street address"
            value = "{{user.address.streetAddress}}"
            id="street"
            name="street"
            oninput="removeErrorClass(this)"
            required
          />
          <div class="invalid-feedback">
            Please enter street details
            <address></address>
          </div>
        </div>
        <div class="input-group mb-3">
          <label class="input-group-text" for="city">City</label>
          <input
            type="text"
            class="form-control"
            placeholder="Enter city"
            value = "{{user.address.city}}"
            id="city"
            name="city"
            oninput="removeErrorClass(this)"
            required
          />
          <label class="input-group-text" for="state">State</label>
          <input
            type="text"
            class="form-control"
            placeholder="Enter state"
            value = "{{user.address.state}}"
            id="state"
            name="state"
            maxlength="2"
            oninput="removeErrorClass(this)"
            required
          />
          <label class="input-group-text" for="zip">Zip</label>
          <input
            type="text"
            class="form-control"
            placeholder="Enter Zip code"
            value = "{{user.address.zip}}"
            id="zip"
            name="zip"
            pattern="[0-9]{5}"
            maxlength="5"
            oninput="removeErrorClass(this)"
            required
          />
          <div class="invalid-feedback">
            Please enter valid address
          </div>
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="span-gender">Gender</span>
          <div class="form-control">
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="gender"
                value="male"
                id="gender_male"
                {{#if user.isMale}}checked{{/if}}
              />
              <label class="form-check-label" for="gender_male">
                Male
              </label>
            </div>
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="gender"
                value="female"
                id="gender_female"
                {{#if user.isFemale}}checked{{/if}}
              />
              <label class="form-check-label" for="gender_female">
                Female
              </label>
            </div>
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="gender"
                value="other"
                id="gender_other"
                {{#if user.isOther}}checked{{/if}}
              />
              <label class="form-check-label" for="gender_other">
                Other
              </label>
            </div>
          </div>
        </div>
        <div class="updateError">
            <p>{{error}}</p>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-primary">Update</button>
            <a class="btn btn-primary" href="/user/{{user._id}}">Back</a>
          </div>
        </div>
        <input
            type="hidden"
            value = "{{user._id}}"
            id="userID"
            name="userID"
          />
      </form>
    </div>
  </div>
</div>
<script src="/public/js/updateuser.js"></script>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
  crossorigin="anonymous"
></script>